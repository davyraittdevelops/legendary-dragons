<button type="button" (click)="open({content : content});" class="btn btn-light btn-lg" [disabled]="isLoading$ | async" name="openAddDeckCardModal">
  <i class="bi bi-file-plus-fill"></i>
  Add cards
</button>

<ng-template #content let-modal>
  <div class="modal-header bg-dark">
    <h2 class="modal-title" id="modal-basic-title">Add card to deck</h2>
    <button type="button" class="btn-close btn-close-white" aria-label="Close" (click)="modal.dismiss('Cross click')">
    </button>
  </div>

  <div class="modal-body bg-body-secondary text-black">
    <ng-container *ngIf="inventory$ | async as inventory">
      <!-- <mat-form-field>
           <mat-label>Filter</mat-label>
           <input matInput (keyup)="applyFilter($event)" placeholder="Search" #input>
           </mat-form-field> -->

      <ng-container *ngIf="availableCards(inventory.inventory_cards) as cards">
        <div class="text-center" *ngIf="cards.length === 0">
          <h1>All cards from the inventory seem to be assigned to a deck</h1>
        </div>

        <ng-container *ngIf="cards.length > 0">
          <p class="mb-3 text-end fs-6">
            {{cards.length}} card/-s unassigned.
          </p>

          <table mat-table [dataSource]="cards">
            <ng-container matColumnDef="Image">
              <th mat-header-cell *matHeaderCellDef> Image </th>
              <td mat-cell *matCellDef="let card"><img [src]="card.image_url"  class="small-image"> </td>
            </ng-container>
            <ng-container matColumnDef="Name">
              <th mat-header-cell *matHeaderCellDef> Name </th>
              <td mat-cell *matCellDef="let card"> {{card.card_name}} </td>
            </ng-container>
            <ng-container matColumnDef="MainDeck">
              <th mat-header-cell *matHeaderCellDef>Action</th>
              <td mat-cell *matCellDef="let card">
                <button type="button" [disabled]="deckCardsLimitReached" (click)="addCardToDeck(card);" class="btn btn-dark" name="addCardToDeck">
                  <i class="bi bi-arrow-bar-left"></i>
                  Add to deck
                </button>
              </td>
            </ng-container>
            <ng-container matColumnDef="SideDeck">
              <th mat-header-cell *matHeaderCellDef></th>
              <td mat-cell *matCellDef="let card">
                <button type="button" (click)="addCardToSideDeck(card);" class="btn btn-dark" name="addCardToSideDeck">
                  <i class="bi bi-arrow-bar-right"></i>
                  Add to side deck
                </button>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
        </ng-container>
      </ng-container>
    </ng-container>
  </div>
</ng-template>
